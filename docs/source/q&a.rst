Q & A
==============================

移植提问模板
----------------

- 使用的板子，引脚，USB IP
- USB 中断，时钟，引脚，寄存器地址是否正确，截图
- 是否能进 USB 中断
- 芯片是否带有 cache功能，是否做了 no cache 处理，截图
- 硬件是否正常，是否使用杜邦线连接，如果正常，请说明正常原因
- 打开 CONFGI_USBDEV_SETUP_LOG_PRINT，并提供 log
- 是否流片并销售

其余问题提问模板
------------------

具体说明现象，复现方式，并提供完整 log


CherryUSB 版本推荐
---------------------

如果没有特别情况，请使用最新版本.详细版本更新说明请参考 https://github.com/cherry-embedded/CherryUSB/releases。

- <= v0.10.2 初代版本

用于定基本的框架，仅支持单 USB IP, 并且无法动态使用硬件 pipe.
使用 XHCI 需要切到这个版本，高版本后续重构. 部分 IP 只能使用此版本，后续版本删除不再使用

- v1.0.0 过度版本

支持动态使用硬件 pipe，不再固定

- v1.1.0 过度版本

主从机支持多 USB IP 且要相同 IP, 主机增加 bluetooth, chh340, ftdi, cp210x, asix 驱动

- v1.2.0

主机增加 rtl8152，cdc ncm 主机驱动，增加 esp ，aic 驱动，DWC2 优化代码阅读，并增加一些配置宏给用户

- v1.3.0

增加一些 宏的 check;
主机增加 pl2303 驱动，支持多个 vid，pid，支持 user_data 给用户使用，优化网络性能;
从机增加一些获取端点信息的 api，并统一 ep0 buffer 的使用，支持多速度描述符自动选择功能

CherryUSB 性能能到多少
----------------------------------------------------------------

可以达到硬件极限性能，比如 HPM 系列，从机可以到 42MB/s, 主机 44MB/s，全速芯片一般 800 ~ 1000KB/s，当然需要硬件理论支持到这速度，CherryUSB 就支持到这速度

ST IP 命名问题
------------------

ST 命名为 USB_OTG_FS, USB_OTG_HS，并不是说明本身是高速或者全速，只是代表可以支持到高速，但是本身都是全速，需要外挂高速phy。因此，提问禁止说这两个词，请使用 USB0(PA11/PA12),USB1(PB14/PB15) 代替。其余国产厂家同理。

dwc2 has less endpoints than config, please check
---------------------------------------------------------------

该 IP 硬件上没有这么多端点，请修改 `CONFIG_USBDEV_EP_NUM`.如果是 GD 芯片，由于 GD 的 dwc2 读出来的硬件配置都是0，所以需要自行 check 并删除 while1

Ep addr XXX overflow
------------------------------

该 IP 硬件上没有这么多端点, 请更换 IP or 减少端点使用

This dwc2 version does not support dma mode, so stop working
----------------------------------------------------------------

该 DWC2 版本不支持 dma 模式，禁止使用. 如果是 GD 芯片，由于 GD 的 dwc2 读出来的硬件配置都是0，所以需要自行 check 并删除 while1

__has_include 报错
------------------------------------------------------------------
如果报错，需要编译器支持 c99 语法，如果是 keil，请用 ac6 编译器

CONFIG_USB_HS 何时使用
----------------------------------------------------------------

当你的芯片硬件支持高速，并想初始化成高速模式时开启，相关 IP 会根据该宏配置内部或者外部 高速 PHY。
